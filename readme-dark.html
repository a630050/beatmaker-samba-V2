<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Samba Beatmaker - 森巴鼓團練習程式使用說明</title>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #e6e6e6;
            background-color: #1a1a1a;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .markdown-body {
            font-size: 16px;
            line-height: 1.6;
            color: #e6e6e6;
        }
        
        .markdown-body h1,
        .markdown-body h2,
        .markdown-body h3,
        .markdown-body h4,
        .markdown-body h5,
        .markdown-body h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #ffffff;
        }
        
        .markdown-body h1 {
            font-size: 2em;
            border-bottom: 1px solid #444;
            padding-bottom: 0.3em;
        }
        
        .markdown-body h2 {
            font-size: 1.5em;
            border-bottom: 1px solid #444;
            padding-bottom: 0.3em;
        }
        
        .markdown-body h3 {
            font-size: 1.25em;
        }
        
        .markdown-body p,
        .markdown-body blockquote,
        .markdown-body ul,
        .markdown-body ol,
        .markdown-body dl,
        .markdown-body table,
        .markdown-body pre {
            margin-top: 0;
            margin-bottom: 16px;
        }
        
        .markdown-body ul,
        .markdown-body ol {
            padding-left: 2em;
        }
        
        .markdown-body li {
            margin-bottom: 0.25em;
        }
        
        .markdown-body blockquote {
            padding: 0 1em;
            color: #999;
            border-left: 0.25em solid #555;
            background-color: #2a2a2a;
        }
        
        .markdown-body code {
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            background-color: #333;
            color: #f8f8f2;
            border-radius: 3px;
        }
        
        .markdown-body pre {
            padding: 16px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            background-color: #2a2a2a;
            border-radius: 3px;
            border: 1px solid #444;
        }
        
        .markdown-body pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        .markdown-body table {
            border-collapse: collapse;
            border-spacing: 0;
            width: 100%;
            background-color: #2a2a2a;
            border: 1px solid #444;
        }
        
        .markdown-body table th,
        .markdown-body table td {
            padding: 6px 13px;
            border: 1px solid #444;
        }
        
        .markdown-body table th {
            font-weight: 600;
            background-color: #333;
            color: #fff;
        }
        
        .markdown-body table tr:nth-child(2n) {
            background-color: #333;
        }
        
        .markdown-body strong {
            font-weight: 600;
            color: #fff;
        }
        
        .markdown-body em {
            font-style: italic;
        }
        
        .markdown-body a {
            color: #58a6ff;
            text-decoration: none;
        }
        
        .markdown-body a:hover {
            text-decoration: underline;
            color: #79c0ff;
        }
        
        .markdown-body hr {
            height: 0.25em;
            padding: 0;
            margin: 24px 0;
            background-color: #444;
            border: 0;
        }
        
        /* TOC 樣式 */
        .ui-toc, .ui-affix-toc {
            background-color: #2a2a2a;
            border: 1px solid #444;
            border-radius: 6px;
        }
        
        .ui-toc a, .ui-affix-toc a {
            color: #e6e6e6;
        }
        
        .ui-toc a:hover, .ui-affix-toc a:hover {
            color: #58a6ff;
            background-color: #333;
        }
        
        .toc-menu a {
            color: #999;
        }
        
        .toc-menu a:hover {
            color: #58a6ff;
        }
        
        /* 響應式設計 */
        @media (max-width: 767px) {
            body {
                padding: 10px;
            }
            
            .markdown-body h1 {
                font-size: 1.6em;
            }
            
            .markdown-body h2 {
                font-size: 1.4em;
            }
            
            .markdown-body h3 {
                font-size: 1.125em;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="markdown-body">
            <h1>Beatmaker - 森巴鼓團練習程序使用說明</h1>

            <h2>快速開始</h2>

            <h3>1. 基本編曲</h3>
            <ul>
                <li><strong>點擊格子</strong>：在音軌上點擊任意格子來開啟/關閉節拍點</li>
                <li><strong>播放音樂</strong>：點擊「▶ 播放」按鈕聆聽你的編曲</li>
                <li><strong>停止播放</strong>：再次點擊變成「⏸ 停止」的按鈕</li>
            </ul>

            <h3>2. 調整節拍速度</h3>
            <ul>
                <li>在右上角的 <strong>BPM</strong> 欄位輸入數值（60-200）</li>
                <li>數值越大節拍越快，越小越慢</li>
                <li>森巴鼓建議速度：65-120 BPM</li>
            </ul>

            <h2>界面說明</h2>

            <h3>主控制區</h3>
            <ul>
                <li><strong>播放/停止</strong>：控制音樂播放</li>
                <li><strong>清除</strong>：清空所有節拍點</li>
                <li><strong>重置</strong>：恢復到初始狀態</li>
                <li><strong>上一步/下一步</strong>：支援多層復原與重做，包含打拍、標記、貼上等操作</li>
                <li><strong>調音</strong>：開啟音色調整面板</li>
            </ul>

            <h3>模式選擇</h3>
            <ul>
                <li><strong>合奏模式</strong>：所有音軌同時播放（推薦）</li>
                <li><strong>循環模式</strong>：音軌依序輪流播放</li>
            </ul>

            <h3>拍子設定</h3>
            <ul>
                <li><strong>2格一拍</strong>：適合簡單節拍</li>
                <li><strong>4格一拍</strong>：標準設定（推薦）</li>
                <li><strong>8格一拍</strong>：適合複雜節拍</li>
            </ul>

            <h2>音軌操作</h2>

            <h3>左側控制面板</h3>
            <p>每個音軌都有以下控制：</p>
            <ol>
                <li><strong>音軌編號</strong>：S1, S2, S3（Surdo）, C（Caixa）, R（Repinique）, A（Agogô）</li>
                <li><strong>樂器選擇</strong>：下拉選單可選擇不同樂器</li>
                <li><strong>控制按鈕</strong>：
                    <ul>
                        <li><strong>●</strong>：開啟/關閉整個音軌</li>
                        <li><strong>🔊</strong>：開啟/關閉音軌聲音</li>
                    </ul>
                </li>
                <li><strong>音軌刪除</strong>：刪除該音軌</li>
                <li><strong>音量滑桿</strong>：調整各音軌音量</li>
            </ol>

            <h3>軌道擴充與編號編輯</h3>
            <ul>
                <li>最多可新增至 <strong>16 軌</strong></li>
                <li>最少需保留 <strong>4 軌</strong></li>
                <li>點擊左側控制面板下方「➕」可新增軌道</li>
                <li>軌道可刪除，並自動重新編號</li>
                <li>雙擊音軌編號即可手動修改名稱</li>
            </ul>

            <h3>摺疊面板</h3>
            <ul>
                <li>點擊左下角的 <strong>◀</strong> 按鈕可摺疊控制面板</li>
                <li>摺疊後只顯示音軌編號，節省空間</li>
            </ul>

            <h2>進階功能</h2>

            <h3>進階編輯</h3>
            <ol>
                <li><strong>選擇模式</strong>：點擊「進階編輯」按鈕進入進階編輯模式</li>
                <li><strong>框選區域</strong>：拖拽滑鼠選取多個格子(可以跨音軌選取)</li>
                <li><strong>複製</strong>：選取後點擊「複製」</li>
                <li><strong>貼上</strong>：在目標位置點擊「貼上」</li>
                <li><strong>儲存樣式</strong>：導出框選區域之音格樣式</li>
                <li><strong>載入樣式</strong>：導入之前存好的音格樣式</li>
            </ol>

            <h3>標記功能（LR 標記）</h3>
            <ul>
                <li>點擊「LR 標記」按鈕可啟用標記工具列</li>
                <li>可在每個格子上標註 <code>R</code>（右手）、<code>L</code>（左手）或使用橡皮擦清除標記</li>
                <li>勾選「LR顯示」可在節拍格中顯示目前標記</li>
                <li>格子上可同時顯示拍數與標記，標記會自動移至右上角顯示</li>
            </ul>

            <h3>拍數調整</h3>
            <ul>
                <li><strong>+/-按鈕</strong>：增加或減少總拍數</li>
                <li><strong>最少4拍</strong>，可擴展到更多拍數</li>
                <li>右側顯示當前拍數</li>
            </ul>

            <h3>音色調整</h3>
            <p>點擊「🎵 調音」按鈕開啟調音面板：</p>

            <h4>音源模式</h4>
            <ul>
                <li><strong>系統預設</strong>：使用內建音檔（推薦）</li>
                <li><strong>匯入音檔</strong>：上傳自己的 MP3/WAV 檔案</li>
                <li><strong>合成音效</strong>：使用合成器音效</li>
            </ul>

            <h4>參數調整</h4>
            <ul>
                <li><strong>音高 (Pitch)</strong>：調整音調高低</li>
                <li><strong>聲像 (Pan)</strong>：調整左右聲道平衡</li>
                <li><strong>增益 (Gain)</strong>：調整音量大小</li>
                <li><strong>起音 (Attack)</strong>：調整聲音開始的速度</li>
                <li><strong>釋放 (Release)</strong>：調整聲音結束的速度</li>
                <li><strong>濾波 (Filter)</strong>：調整音色明亮度</li>
                <li><strong>波形</strong>：選擇合成器波形（僅人工音效模式）</li>
            </ul>

            <h4>拖拍音色（目前支援 Caixa 與 Repinique）</h4>
            <ul>
                <li>拖拍音色使用合成器模擬連打效果</li>
                <li>可個別調整以下參數：
                    <ul>
                        <li><strong>彈跳次數（Drag Bounces）</strong></li>
                        <li><strong>拖拍時間（Duration）</strong></li>
                        <li><strong>音量遞減率（Gain Decay）</strong></li>
                        <li><strong>時間延展（Stretch）</strong></li>
                    </ul>
                </li>
                <li>適合製作更具節奏感與律動的樂句</li>
            </ul>

            <h3>檔案管理</h3>
            <ul>
                <li><strong>存檔</strong>：將編曲儲存為 JSON 檔案</li>
                <li><strong>載入</strong>：載入之前儲存的編曲</li>
                <li><strong>匯出MP3</strong>：將編曲轉換為音頻檔案 (支援設定當前播放長度之循環次數為mp3聲音檔)</li>
            </ul>

            <h2>實用技巧</h2>

            <h3>編曲建議</h3>
            <ol>
                <li><strong>從基本節拍開始</strong>：先設定 Surdo 的基本節拍</li>
                <li><strong>逐步添加</strong>：依序加入 Caixa、Repinique 等樂器</li>
                <li><strong>注意平衡</strong>：調整各音軌音量，避免某個樂器過於突出</li>
            </ol>

            <h3>視覺輔助</h3>
            <ul>
                <li><strong>勾選「數字提醒」</strong>：在啟用的格子上顯示拍數</li>
                <li><strong>節拍標記</strong>：每拍第一格有橘色邊框</li>
                <li><strong>播放指示器</strong>：紅線顯示當前播放位置</li>
            </ul>

            <h3>循環設定</h3>
            <ul>
                <li>右上角可設定<strong>循環次數</strong>（1-8次）→ 本項係設定匯出mp3功能需重複的次數</li>
                <li>適合練習時重複播放</li>
            </ul>

            <h3>鍵盤快速鍵</h3>
            <table>
                <thead>
                    <tr>
                        <th>快速鍵</th>
                        <th>功能說明(均使用英文小寫)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Space</td>
                        <td>播放 / 停止切換</td>
                    </tr>
                    <tr>
                        <td>Ctrl + Z</td>
                        <td>復原（Undo）</td>
                    </tr>
                    <tr>
                        <td>Ctrl + Y</td>
                        <td>重做（Redo）</td>
                    </tr>
                    <tr>
                        <td>Ctrl + C</td>
                        <td>複製所選區域</td>
                    </tr>
                    <tr>
                        <td>Ctrl + V</td>
                        <td>貼上至目前所選起點</td>
                    </tr>
                    <tr>
                        <td>Esc</td>
                        <td>跳出視窗</td>
                    </tr>
                    <tr>
                        <td>↑ / ↓</td>
                        <td>調整音量</td>
                    </tr>
                    <tr>
                        <td>← / →</td>
                        <td>調整速度</td>
                    </tr>
                    <tr>
                        <td>S</td>
                        <td>進入 / 取消【選擇】狀態</td>
                    </tr>
                    <tr>
                        <td>M</td>
                        <td>進入 / 取消【LR標註】狀態</td>
                    </tr>
                </tbody>
            </table>

            <p><strong>【LR標註】模式下：</strong></p>
            <ul>
                <li>L：選擇L標記</li>
                <li>R：選擇R標記</li>
                <li>X：橡皮擦</li>
            </ul>

            <h2>常見問題</h2>

            <h3>沒有聲音？</h3>
            <ol>
                <li>確認瀏覽器允許音頻播放</li>
                <li>檢查音軌的🔊按鈕是否開啟</li>
                <li>確認系統音量設定</li>
            </ol>

            <h3>節拍不準確？</h3>
            <ol>
                <li>檢查 BPM 設定是否正確</li>
                <li>確認拍子設定（建議使用4格一拍）</li>
                <li>重新載入頁面試試</li>
            </ol>

            <h3>拖拍樂器沒有聲音？</h3>
            <ol>
                <li>拖拍樂器使用合成音效，請確認未切換至「匯入音檔」</li>
                <li>檢查彈跳參數設定是否為零或拖拍長度過短</li>
                <li>拖拍效果較適合中慢速 BPM，建議 60-100 範圍測試</li>
            </ol>

            <h3>想要更多樂器？</h3>
            <ul>
                <li>在音軌的下拉選單中可選擇9種不同的森巴樂器</li>
                <li>每個音軌都可以獨立設定樂器類型</li>
            </ul>

            <hr>

            <p><strong>程式作者</strong>：徐承佑<br>
            <strong>森巴鼓指導老師</strong>：陳仰真</p>

            <blockquote>
                <p>這個工具特別適合森巴鼓團練習、教學示範和創意編曲。建議先從簡單的節拍模式開始，逐步熟悉各項功能！</p>
            </blockquote>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('a[href^="#"]');
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        e.preventDefault();
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });
    </script>
</body>
</html>