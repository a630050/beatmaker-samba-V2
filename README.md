https://a630050.github.io/beatmaker-samba-V2/

這是一個專為森巴鼓團設計的線上編曲與練習工具。無論您是指導老師、學生或對森巴打擊樂充滿熱情的玩家，這個工具都能幫助您輕鬆創建、視覺化、分享和練習森巴鼓的節奏。

透過直覺的圖形化介面，您可以編排多達16個聲部的鼓譜，調整各種樂器的音色，並以不同的模式進行播放練習。此外，程式還支援完整的儲存、讀取、匯出MP3以及快捷鍵操作，旨在成為您森巴鼓學習與創作上的最佳夥伴。


---

## ✨ 主要功能

*   **多軌音序器**：支援最多16個獨立音軌，可自由新增、刪除及命名。
*   **專業音色調校**：內建「調音」面板，可針對每種樂器調整音高、聲像、起音、釋放、濾波等參數，並支援系統預設、使用者自行匯入音檔、合成音效三種模式。
*   **進階播放模式**：
    *   **合奏模式**：所有啟用的聲部同時播放。
    *   **輪奏模式**：一次一個聲部，依序循環播放。
*   **視覺化標記系統**：獨特的「標記」模式，可直接在節拍格上標記左右手(R/L)及強弱重音(> / () )，對練習手法至關重要。
*   **靈活的節奏設定**：可自由設定BPM、總拍數、以及每一拍由幾格組成(2/4/8)，適應不同曲風與練習需求。
*   **完整的專案管理**：
    *   **存檔/載入**：可將整個鼓譜(.json)儲存下來，隨時讀取。
    *   **樣式庫**：可將選取的節奏片段(.pa)存成樣式，方便在不同專案中重複使用。
*   **MP3匯出**：可將您的創作匯出為 MP3 音檔，方便分享或離線聆聽。
*   **高效編輯工具**：提供「編輯」模式，可框選、複製、貼上節奏片段，大幅提升編曲效率。
*   **操作歷史紀錄**：完整的上一步(Undo)/下一步(Redo)功能，讓您安心嘗試各種修改。
*   **豐富的快捷鍵**：支援大量快捷鍵，讓您幾乎可以脫離滑鼠進行所有操作。

---

## 🚀 如何開始

1.  **添加音符**：在右側的節拍網格中，直接用滑鼠點擊格子即可添加或移除音符。
2.  **播放/暫停**：點擊上方的 **▶ 播放** 按鈕或按下 `空白鍵` / `P` 鍵來播放音樂。再次點擊或按鍵則會暫停。
3.  **停止播放**：按下 `S` 鍵可隨時停止播放並將播放軸歸零。
4.  **選擇樂器**：在左側的音軌控制面板中，使用下拉選單為每個音軌選擇不同的森巴鼓樂器。
5.  **調整BPM**：在中間的控制列中找到 `BPM` 輸入框，直接修改數字或使用鍵盤 `↑` / `↓` 鍵微調速度。
6.  **標記手法**：點擊 **標記** 按鈕 (或按 `M` 鍵) 進入標記模式，選擇 `R`、`L` 或其他記號，然後點擊格子即可標上。
7.  **儲存你的創作**：點擊 **存檔** 按鈕 (或按 `Ctrl + S`) 將您的心血結晶完整保存下來！

---

## ⚙️ 功能詳解

### 主控制列 (上方)

*   **? 指引**：打開使用說明文件。
*   **🎵 調音**：打開專業音色調整面板，可對所有樂器進行細膩的聲音設計。
*   **▶ 播放**：播放或暫停音樂。
*   **重置**：清除所有音符與標記，但保留音軌設定。
*   **上一步/下一步**：復原或重做您的操作。
*   **編輯** (`E` 鍵)：進入/退出選取模式。啟用後會出現工具列：
    *   **複製 (`Ctrl+C`)**：複製框選的節奏。
    *   **貼上 (`Ctrl+V`)**：貼上已複製的節奏。
    *   **儲存/載入樣式**：將選取範圍存成 `.pa` 檔案，或讀取已存的樣式檔。
*   **標記** (`M` 鍵)：進入/退出標記模式。啟用後會出現標記工具列，可選擇左右手、強弱音或橡皮擦。
*   **檔案操作**：
    *   **存檔 (`Ctrl+S`)**：將整個專案存為 `.json` 檔。
    *   **載入**：讀取 `.json` 專案檔。
    *   **匯出MP3**：將當前編曲匯出為 MP3。
*   **循環次數**：設定匯出MP3時，樂句要重複的次數。

### 節奏設定列 (中間)

*   **合奏/輪奏**：切換播放模式。
*   **一拍長度**：設定每一拍由多少個格子組成，數字越大，代表解析度越高。
*   **節拍長度**：使用 `+` / `-` 增加或減少總拍數。
*   **BPM / 音量**：設定全域的曲速與音量。
*   **顯示選項**：
    *   **拍數顯示**：在有音符的格子上顯示其屬於第幾拍。
    *   **LR顯示**：顯示/隱藏左右手標記。
    *   **記號顯示**：顯示/隱藏強弱音記號。

### 音序器面板 (下方)

#### 左側音軌控制

*   **軌道標籤**：雙擊標籤 (如 `S1`) 可自訂名稱 (最多2個字元)。
*   **樂器選擇**：下拉選單選擇該軌道的樂器。
*   **啟用軌道 (●)**：點擊可讓此軌道靜音(Mute)。
*   **啟用聲音 (🔊)**：點擊可讓此軌道在播放時不出聲，但保留視覺效果。
*   **刪除軌道 (✖)**：當軌道數大於4時，可刪除軌道。
*   **音量條**：獨立調整該軌道的音量。
*   **新增/摺疊按鈕**：`➕` 可新增軌道，`◀` / `▶` 可收合/展開左側面板。

#### 右側節拍網格

*   **格子(Step)**：編曲的核心區域，點擊以放置音符。
*   **播放軸 (Seek Bar)**：頂部的灰色長條。在非播放狀態下，點擊任意位置可將紅色播放軸移動到該處，並高亮對應的欄位。按下 `播放` 將從該位置開始。

---

## ⌨️ 快速鍵清單

#### 一、 播放控制

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **播放 / 暫停** | `Space` 或 `P` | 開始播放或在目前位置暫停。 |
| **停止並回到開頭** | `S` | 無論在哪個位置，立即停止播放並將播放軸歸零。 |
| **從頭播放** | `B` | 立即從第一拍開始播放。 |
| **增加 / 減少 BPM** | `↑` / `↓` | 微調曲速。 |
| **增加 / 減少 總音量**| `→` / `←` | 微調主音量。 |

#### 二、 模式與編輯

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **切換 [編輯] 模式** | `E` | 進入或退出用於複製/貼上的「編輯」模式。 |
| **切換 [標記] 模式** | `M` | 進入或退出用於標記手法的「標記」模式。 |
| **複製選取範圍** | `Ctrl` + `C` | 在 [編輯] 模式下，複製已選取的格子。 |
| **貼上樣式** | `Ctrl` + `V` | 在 [編輯] 模式下，貼上已複製的樣式。 |
| **上一步** | `Ctrl` + `Z` | 復原上一個操作。 |
| **下一步** | `Ctrl` + `Y` | 重做上一個復原的操作。 |
| **退出模式 / 取消** | `Esc` | 關閉 [編輯] 或 [標記] 模式，或取消播放軸高亮。 |

#### 三、 標記工具快捷鍵 (需先按 `M` 進入標記模式)

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **選擇 'R' 標記** | `R` | 切換到右手 (R) 標記工具。 |
| **選擇 'L' 標記** | `L` | 切換到左手 (L) 標記工具。 |
| **選擇 '>' 強音記號** | `.` (句點) | 切換到強音 (>) 記號工具。 |
| **選擇 '()' 弱音記號**| `O` | 切換到弱音 (ghost note) 記號工具。 |
| **選擇橡皮擦** | `X` | 切換到橡皮擦工具。 |

#### 四、 檔案操作

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **儲存鼓譜** | `Ctrl` + `S` | 將目前的鼓譜匯出為 `.json` 檔案。 |

---

## 📂 檔案格式說明

*   `.json`：完整的專案檔。包含所有音軌、音符、標記、BPM、音色設定等所有資訊。用於儲存和分享整個編曲。
*   `.pa` (Pattern)：樣式檔。只包含選取範圍內的音符與標記資訊。用於儲存常用的節奏片段，方便在不同專案中快速呼叫使用。

---

## 👨‍💻 作者

*   **程式作者**：徐承佑
*   **森巴鼓指導老師**：陳仰真
](https://a630050.github.io/beatmaker-samba-V2/

這是一個專為森巴鼓團設計的線上編曲與練習工具。無論您是指導老師、學生或對森巴打擊樂充滿熱情的玩家，這個工具都能幫助您輕鬆創建、視覺化、分享和練習森巴鼓的節奏。

透過直覺的圖形化介面，您可以編排多達16個聲部的鼓譜，調整各種樂器的音色，並以不同的模式進行播放練習。此外，程式還支援完整的儲存、讀取、匯出MP3以及快捷鍵操作，旨在成為您森巴鼓學習與創作上的最佳夥伴。


---

## ✨ 主要功能

*   **多軌音序器**：支援最多16個獨立音軌，可自由新增、刪除及命名。
*   **專業音色調校**：內建「調音」面板，可針對每種樂器調整音高、聲像、起音、釋放、濾波等參數，並支援系統預設、使用者自行匯入音檔、合成音效三種模式。
*   **樂譜轉換功能**：可將選取的節奏片段 (需為4拍的倍數) 或**整個音軌一鍵轉換**為標準五線譜，方便打印或與他人交流。
*   **進階播放模式**：
    *   **合奏模式**：所有啟用的聲部同時播放。
    *   **輪奏模式**：一次一個聲部，依序循環播放。
*   **視覺化標記系統**：獨特的「標記」模式，可直接在節拍格上標記左右手(R/L)及強弱重音(> / () )，並支援**滑鼠右鍵**快速標記休止符。
*   **靈活的節奏設定**：可自由設定BPM、總拍數 (可從頭或尾刪減)、以及每一拍由幾格組成(2/4/8)，適應不同曲風與練習需求。
*   **完整的專案管理**：
    *   **存檔/載入**：可將整個鼓譜(.json)儲存下來，隨時讀取。
    *   **樣式庫**：可將選取的節奏片段(.pa)存成樣式，方便在不同專案中重複使用。
*   **MP3匯出**：可將您的創作匯出為 MP3 音檔，方便分享或離線聆聽。
*   **高效編輯工具**：提供「編輯」模式，可框選、複製、貼上節奏片段，大幅提升編曲效率。
*   **操作歷史紀錄**：完整的上一步(Undo)/下一步(Redo)功能，讓您安心嘗試各種修改。
*   **豐富的快捷鍵**：支援大量快捷鍵，讓您幾乎可以脫離滑鼠進行所有操作。

---

## 🚀 如何開始

1.  **添加音符**：在右側的節拍網格中，直接用滑鼠點擊格子即可添加或移除音符。
2.  **標記休止符**：在任意格子上點擊**滑鼠右鍵**，可將該格標記為休止符。再次右鍵點擊可取消。
3.  **播放/暫停**：點擊上方的 **▶ 播放** 按鈕或按下 `空白鍵` / `P` 鍵來播放音樂。再次點擊或按鍵則會暫停。
4.  **停止播放**：按下 `S` 鍵可隨時停止播放並將播放軸歸零。
5.  **選擇樂器**：在左側的音軌控制面板中，使用下拉選單為每個音軌選擇不同的森巴鼓樂器。
6.  **調整BPM**：在中間的控制列中找到 `BPM` 輸入框，直接修改數字或使用鍵盤 `↑` / `↓` 鍵微調速度。
7.  **標記手法**：點擊 **標記** 按鈕 (或按 `M` 鍵) 進入標記模式，選擇 `R`、`L` 或其他記號，然後點擊格子即可標上。
8.  **儲存你的創作**：點擊 **存檔** 按鈕 (或按 `Ctrl + S`) 將您的心血結晶完整保存下來！

---

## ⚙️ 功能詳解

### 主控制列 (上方)

*   **? 指引**：打開使用說明文件。
*   **🎵 調音**：打開專業音色調整面板，可對所有樂器進行細膩的聲音設計。
*   **▶ 播放**：播放或暫停音樂。
*   **重置**：清除所有音符與標記，但保留音軌設定。
*   **上一步/下一步**：復原或重做您的操作。
*   **編輯** (`E` 鍵)：進入/退出選取模式。啟用後會出現工具列：
    *   **複製 (`Ctrl+C`)**：複製框選的節奏。
    *   **貼上 (`Ctrl+V`)**：貼上已複製的節奏。
    *   **儲存/載入樣式**：將選取範圍存成 `.pa` 檔案，或讀取已存的樣式檔。
    *   **轉樂譜**：將框選的有效範圍 (需為4拍的倍數) 轉換為樂譜。
*   **標記** (`M` 鍵)：進入/退出標記模式。啟用後會出現標記工具列，可選擇左右手、強弱音或橡皮擦。
*   **檔案操作**：
    *   **存檔 (`Ctrl+S`)**：將整個專案存為 `.json` 檔。
    *   **載入**：讀取 `.json` 專案檔。
    *   **匯出MP3**：將當前編曲匯出為 MP3。
*   **循環次數**：設定匯出MP3時，樂句要重複的次數。

### 節奏設定列 (中間)

*   **合奏/輪奏**：切換播放模式。
*   **一拍長度**：設定每一拍由多少個格子組成，數字越大，代表解析度越高。
*   **節拍長度**：使用 `+` (從結尾增加)、最右側 `-` (從結尾減少)、最左側 `-` (從開頭減少) 來調整總拍數，皆以4拍為單位。
*   **BPM / 音量**：設定全域的曲速與音量。
*   **顯示選項**：
    *   **拍數顯示**：在有音符的格子上顯示其屬於第幾拍。
    *   **LR顯示**：顯示/隱藏左右手標記。
    *   **記號顯示**：顯示/隱藏強弱音記號。

### 音序器面板 (下方)

#### 左側音軌控制

*   **軌道標籤**：雙擊標籤 (如 `S1`) 可自訂名稱 (最多2個字元)。
*   **樂器選擇**：下拉選單選擇該軌道的樂器。
*   **一鍵轉譜 (♫)**：點擊音符按鈕，可立即將該軌道的完整節奏轉換為樂譜。
*   **啟用軌道 (●)**：點擊可讓此軌道靜音(Mute)。
*   **啟用聲音 (🔊)**：點擊可讓此軌道在播放時不出聲，但保留視覺效果。
*   **刪除軌道 (✖)**：當軌道數大於4時，可刪除軌道。
*   **音量條**：獨立調整該軌道的音量。
*   **新增/摺疊按鈕**：`➕` 可新增軌道，`◀` / `▶` 可收合/展開左側面板。

#### 右側節拍網格

*   **格子(Step)**：編曲的核心區域。左鍵點擊放置音符，右鍵點擊標記為休止符。
*   **播放軸 (Seek Bar)**：頂部的灰色長條。在非播放狀態下，點擊任意位置可將紅色播放軸移動到該處，並高亮對應的欄位。按下 `播放` 將從該位置開始。

---

## ⌨️ 快速鍵清單

#### 一、 播放控制

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **播放 / 暫停** | `Space` 或 `P` | 開始播放或在目前位置暫停。 |
| **停止並回到開頭** | `S` | 無論在哪個位置，立即停止播放並將播放軸歸零。 |
| **從頭播放** | `B` | 立即從第一拍開始播放。 |
| **增加 / 減少 BPM** | `↑` / `↓` | 微調曲速。 |
| **增加 / 減少 總音量**| `→` / `←` | 微調主音量。 |

#### 二、 模式與編輯

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **切換 [編輯] 模式** | `E` | 進入或退出用於複製/貼上的「編輯」模式。 |
| **切換 [標記] 模式** | `M` | 進入或退出用於標記手法的「標記」模式。 |
| **複製選取範圍** | `Ctrl` + `C` | 在 [編輯] 模式下，複製已選取的格子。 |
| **貼上樣式** | `Ctrl` + `V` | 在 [編輯] 模式下，貼上已複製的樣式。 |
| **上一步** | `Ctrl` + `Z` | 復原上一個操作。 |
| **下一步** | `Ctrl` + `Y` | 重做上一個復原的操作。 |
| **退出模式 / 取消** | `Esc` | 關閉 [編輯] 或 [標記] 模式，或取消播放軸高亮。 |

#### 三、 標記工具快捷鍵 (需先按 `M` 進入標記模式)

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **選擇 'R' 標記** | `R` | 切換到右手 (R) 標記工具。 |
| **選擇 'L' 標記** | `L` | 切換到左手 (L) 標記工具。 |
| **選擇 '>' 強音記號** | `.` (句點) | 切換到強音 (>) 記號工具。 |
| **選擇 '()' 弱音記號**| `O` | 切換到弱音 (ghost note) 記號工具。 |
| **選擇橡皮擦** | `X` | 切換到橡皮擦工具。 |

#### 四、 檔案操作

| 功能 | 按鍵 | 說明 |
| :--- | :--- | :--- |
| **儲存鼓譜** | `Ctrl` + `S` | 將目前的鼓譜匯出為 `.json` 檔案。 |

---

## 📂 檔案格式說明

*   `.json`：完整的專案檔。包含所有音軌、音符、標記、BPM、音色設定等所有資訊。用於儲存和分享整個編曲。
*   `.pa` (Pattern)：樣式檔。只包含選取範圍內的音符與標記資訊。用於儲存常用的節奏片段，方便在不同專案中快速呼叫使用。

---

## 👨‍💻 作者

*   **程式作者**：徐承佑
*   **森巴鼓指導老師**：陳仰真)
