# Beatmaker - 森巴鼓團練習程序使用說明

## 快速開始

### 1. 基本編曲
- **點擊格子**：在音軌上點擊任意格子來開啟/關閉節拍點
- **播放音樂**：點擊「▶ 播放」按鈕聆聽你的編曲
- **停止播放**：再次點擊變成「⏸ 停止」的按鈕

### 2. 調整節拍速度
- 在右上角的 **BPM** 欄位輸入數值（60-200）
- 數值越大節拍越快，越小越慢
- 森巴鼓建議速度：65-120 BPM

## 界面說明

### 主控制區
- **播放/停止**：控制音樂播放
- **清除**：清空所有節拍點
- **重置**：恢復到初始狀態
- **上一步/下一步**：支援多層復原與重做，包含打拍、標記、貼上等操作
- **調音**：開啟音色調整面板

### 模式選擇
- **合奏模式**：所有音軌同時播放（推薦）
- **循環模式**：音軌依序輪流播放

### 拍子設定
- **2格一拍**：適合簡單節拍
- **4格一拍**：標準設定（推薦）
- **8格一拍**：適合複雜節拍

## 音軌操作

### 左側控制面板
每個音軌都有以下控制：

1. **音軌編號**：S1, S2, S3（Surdo）, C（Caixa）, R（Repinique）, A（Agogô）
2. **樂器選擇**：下拉選單可選擇不同樂器
3. **控制按鈕**：
   - **●**：開啟/關閉整個音軌
   - **🔊**：開啟/關閉音軌聲音
4. **音軌刪除**：刪除該音軌
5. **音量滑桿**：調整各音軌音量

### 軌道擴充與編號編輯
- 最多可新增至 **16 軌**
- 最少需保留 **4 軌**
- 點擊左側控制面板下方「➕」可新增軌道
- 軌道可刪除，並自動重新編號
- 雙擊音軌編號即可手動修改名稱

### 摺疊面板
- 點擊左下角的 **◀** 按鈕可摺疊控制面板
- 摺疊後只顯示音軌編號，節省空間

## 進階功能

### 選擇與編輯
1. **選擇模式**：點擊「選擇」按鈕進入選取模式
2. **框選區域**：拖拽滑鼠選取多個格子
3. **複製**：選取後點擊「複製」
4. **貼上**：在目標位置點擊「貼上」

### 標記功能（LR 標記）
- 點擊「LR 標記」按鈕可啟用標記工具列
- 可在每個格子上標註 `R`（右手）、`L`（左手）或使用橡皮擦清除標記
- 勾選「LR顯示」可在節拍格中顯示目前標記
- 格子上可同時顯示拍數與標記，標記會自動移至右上角顯示

### 拍數調整
- **+/-按鈕**：增加或減少總拍數
- **最少4拍**，可擴展到更多拍數
- 右側顯示當前拍數

### 音色調整
點擊「🎵 調音」按鈕開啟調音面板：

#### 音源模式
- **系統預設**：使用內建音檔（推薦）
- **匯入音檔**：上傳自己的 MP3/WAV 檔案
- **合成音效**：使用合成器音效

#### 參數調整
- **音高 (Pitch)**：調整音調高低
- **聲像 (Pan)**：調整左右聲道平衡
- **增益 (Gain)**：調整音量大小
- **起音 (Attack)**：調整聲音開始的速度
- **釋放 (Release)**：調整聲音結束的速度
- **濾波 (Filter)**：調整音色明亮度
- **波形**：選擇合成器波形（僅人工音效模式）

#### 拖拍音色（支援 Caixa 與 Repinique）
- 拖拍音色使用合成器模擬連打效果
- 可個別調整以下參數：
  - **彈跳次數（Drag Bounces）**
  - **拖拍時間（Duration）**
  - **音量遞減率（Gain Decay）**
  - **時間延展（Stretch）**
- 適合製作更具節奏感與律動的樂句

### 檔案管理
- **存檔**：將編曲儲存為 JSON 檔案
- **載入**：載入之前儲存的編曲
- **匯出MP3**：將編曲轉換為音頻檔案

## 實用技巧

### 編曲建議
1. **從基本節拍開始**：先設定 Surdo 的基本節拍
2. **逐步添加**：依序加入 Caixa、Repinique 等樂器
3. **注意平衡**：調整各音軌音量，避免某個樂器過於突出

### 視覺輔助
- **勾選「數字提醒」**：在啟用的格子上顯示拍數
- **節拍標記**：每拍第一格有橘色邊框
- **播放指示器**：紅線顯示當前播放位置

### 循環設定
- 右上角可設定**循環次數**（1-8次）-> 本項係設定匯出mp3功能需重複的次數
- 適合練習時重複播放

### 鍵盤快速鍵
快速鍵	功能說明(均使用英文小寫)
Space：播放 / 停止切換
Ctrl + Z	：復原（Undo）
Ctrl + Y	：重做（Redo）
Ctrl + C	：複製所選區域
Ctrl + V	：貼上至目前所選起點
Esc ：跳出視窗

S：進入 / 取消【選擇】狀態
M：進入 / 取消【LR標註】狀態

【LR標註】模式下：
L：選擇L標記
R：選擇R標記
X：橡皮擦

## 常見問題

### 沒有聲音？
1. 確認瀏覽器允許音頻播放
2. 檢查音軌的🔊按鈕是否開啟
3. 確認系統音量設定

### 節拍不準確？
1. 檢查 BPM 設定是否正確
2. 確認拍子設定（建議使用4格一拍）
3. 重新載入頁面試試

### 拖拍樂器沒有聲音？
1. 拖拍樂器使用合成音效，請確認未切換至「匯入音檔」
2. 檢查彈跳參數設定是否為零或拖拍長度過短
3. 拖拍效果較適合中慢速 BPM，建議 60-100 範圍測試

### 想要更多樂器？
- 在音軌的下拉選單中可選擇9種不同的森巴樂器
- 每個音軌都可以獨立設定樂器類型

---

**程式作者**：徐承佑  
**森巴鼓指導老師**：陳仰真

> 這個工具特別適合森巴鼓團練習、教學示範和創意編曲。建議先從簡單的節拍模式開始，逐步熟悉各項功能！
